# 二进制操作

在前端中，二进制码在平常的开发中很少会去使用到。但是在一些框架中，也会看到其作为开发的一部分存在，由于位运算速度快的特点，能达到较好的使用效果。例如`react`使用二进制表示`lane`模型、副作用类型等等，`vue`使用二进制表示当前副作用层级等等。

## 常见的位运算

```md
 与(AND)      或(OR)      异或(XOR)     非(NOT)

  0b001       0b001        0b011        
& 0b010     | 0b010      ^ 0b001      ~ 0b011
--------    --------     --------     --------
  0b000       0b011        0b010        0b100

```

- 与(&)：相同位都是1结果才为1。
- 或(|)：相同位有一个为1结果就是1
- 异或(^)：相同位有一个为1结果才是1，其它都是0
- 非(~)：按位取反
- 左移(<<):  a << b。 将 a 的二进制形式向左移 b (< 32) 位，右边用0填充。
- 左移(>>):  a >> b。 将 a 的二进制形式向右移 b (< 32) 位，左边用0填充。

## 二进制应用

### 表示状态

```javascript
const status1 = 0b001; // 状态1
const status2 = 0b010; // 状态2
const status3 = 0b100; // 状态3
mode = 0b000; // 初始状态
```

我们可以使用二进制的每一位表示一种状态，并且状态可以叠加，例如0b011表示位于状态1和状态2

### 添加状态

```js
mode = mode | status1
```

给`mode`添加`status1`

### 判断是不是存在类型

```js
const hasStatus1 = mode & status1
```

判断`mode`是不是存在`status1`

### 去掉某个状态

```js
mode = mode ^ status1
mode = mode & ~status1
```

给`mode`去掉`status1`